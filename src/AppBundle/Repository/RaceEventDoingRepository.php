<?php

namespace AppBundle\Repository;

use AppBundle\Entity\RaceEvent;
use AppBundle\Entity\RaceEventDoing;
use AppBundle\Entity\User;

/**
 * RaceEventDoingRepository
 *
 * This class was generated by the PhpStorm "Php Annotations" Plugin. Add your own custom
 * repository methods below.
 */
class RaceEventDoingRepository extends BaseRepository
{
    /**
     * @param RaceEvent $raceEvent
     * @param User      $user
     *
     * @return RaceEventDoing|null
     */
    public function findByRaceEventAndUser(RaceEvent $raceEvent, User $user)
    {
        $qb = $this->getQB()
            ->andWhere('r.raceEvent = :raceEvent')
            ->andWhere('r.user= :user')
            ->setParameter('raceEvent', $raceEvent)
            ->setParameter('user', $user);

        $raceEventDoing = $qb->getQuery()->getOneOrNullResult();

        return $raceEventDoing;
    }
}
